<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Latency Slayer | Dados Históricos</title>
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="./style/dashDadosHistoricos.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
</head>

<body>
  <main>
    <script src="./script/components/navBar.js" page="dadosHistoricos"></script>

    <div class="container">
      <div class="box-container">
        <header>
          <h1>Máquina ext-04202501</h1>
          <hr style="height: 0.2vh; background-color: gainsboro; opacity: 0.5" />
        </header>
        <h1>Relatório da última semana</h1>
        <div class="container-kpi">
          <div class="kpi-1">
              <span>Alguma coisa</span>
          </div>
          <div class="kpi-2">
            <span>Alguma coisa</span>
          </div>
          <div class="kpi-3">
            <span>Alguma coisa</span>
          </div>
        </div>
        <div class="container-grafico1">
          <div class="grafico1">
            <canvas id="grafico" height="300"></canvas>
          </div>
        </div>
        <div class="container-grafico2">
          <div class="grafico1">
            <canvas id="grafico4" height="300"></canvas>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script>
    const ctx = document.getElementById('grafico').getContext('2d');
    const ctx4 = document.getElementById('grafico4').getContext('2d');

    const dados = {
      labels: ["Média de Uso dos Componentes"],
      datasets: [
        {
          label: 'Uso de CPU',
          data: [47.27],
          backgroundColor: 'rgba(255, 99, 132, 0.6)'
        },
        {
          label: 'Uso de RAM',
          data: [7.64],
          backgroundColor: 'rgba(54, 162, 235, 0.6)'
        },
        {
          label: 'Uso de Disco',
          data: [124.92],
          backgroundColor: 'rgba(255, 206, 86, 0.6)'
        },
        {
          label: 'Envio de Upload',
          data: [145.33],
          backgroundColor: 'rgba(75, 192, 192, 0.6)'
        },
        {
          label: 'Envio de Download',
          data: [48.81],
          backgroundColor: 'rgba(153, 102, 255, 0.6)'
        },
      ]
    };

    const config = {
      type: 'bar',
      data: dados,
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          dataLabels: {
            anchor: 'center',
            align: 'center',
            color: 'white',
            font: {
              weight: 'bold',
              size: 14
            },
          }
        },
        scales: {
          x: {
            stacked: false
          },
          y: {
            beginAtZero: true
          }
        }
      },
      plugins: [ChartDataLabels]
    };

    new Chart(ctx, config);

    const dados4 = {
      labels: ["Média de Jogadores"],
      datasets: [
        {
          label: 'Segunda',
          data: [300],
          backgroundColor: 'rgba(255, 99, 132, 0.6)'
        },
        {
          label: 'Terça',
          data: [440],
          backgroundColor: 'rgba(54, 162, 235, 0.6)'
        },
        {
          label: 'Quarta',
          data: [270],
          backgroundColor: 'rgba(255, 206, 86, 0.6)'
        },
        {
          label: 'Quinta',
          data: [560],
          backgroundColor: 'rgba(75, 192, 192, 0.6)'
        },
        {
          label: 'Sexta',
          data: [1500],
          backgroundColor: 'rgba(153, 102, 255, 0.6)'
        },
        {
          label: 'Sábado',
          data: [3000],
          backgroundColor: 'rgba(255, 159, 64, 0.6)'
        },
        {
          label: 'Domingo',
          data: [2200],
          backgroundColor: 'rgba(201, 203, 207, 0.6)'
        },
      ]
    };

    const config4 = {
      type: 'bar',
      data: dados4,
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          dataLabels: {
            anchor: 'center',
            align: 'center',
            color: 'white',
            font: {
              weight: 'bold',
              size: 14
            },
          },
          annotation: {
            annotations: [
              {
                // Linha de CPU
                type: 'line',
                yMin: 400, // Posição Y para a linha de CPU
                yMax: 400, // Posição Y para a linha de CPU
                borderColor: 'red', // Cor da linha
                borderWidth: 2,
                label: {
                  enabled: true,
                  content: 'Uso de CPU',
                  position: 'end'
                }
              },
              {
                // Linha de RAM
                type: 'line',
                yMin: 1000, // Posição Y para a linha de RAM
                yMax: 1000, // Posição Y para a linha de RAM
                borderColor: 'blue', // Cor da linha
                borderWidth: 2,
                label: {
                  enabled: true,
                  content: 'Uso de RAM',
                  position: 'end'
                }
              }
            ]
          }
        },
        scales: {
          x: {
            stacked: false
          },
          y: {
            beginAtZero: true
          }
        }
      },
      plugins: [ChartDataLabels, ChartAnnotation]
    };

    new Chart(ctx4, config4);

  </script>
</body>

</html>