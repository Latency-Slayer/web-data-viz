<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Latency Slayer | Dados Históricos</title>
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="./style/dashDadosHistoricos.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

</head>

<body>
  <main>
    <script src="./script/components/navBarAnalista.js" page="servidores"></script>

    <div class="container">
      <div class="box-container">
        <header>
          <h1>Máquina ext-04202501</h1>
          <hr style="height: 0.2vh; background-color: gainsboro; opacity: 0.5" />
        </header>
        <h1>Relatório da última semana</h1>
        <div class="container-kpi">
          <div class="kpi-1">
            <span>Alguma coisa</span>
          </div>
          <div class="kpi-2">
            <span>Alguma coisa</span>
          </div>
          <div class="kpi-3">
            <span>Alguma coisa</span>
          </div>
        </div>
        <div class="container-grafico1">
          <div class="grafico1">
            <div id="chart"></div>
          </div>
        </div>
        <div class="container-grafico2">
          <div class="grafico2">
            <div id="chart2"></div>
          </div>
          <div class="grafico2">
            <div id="chart3"></div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script>
    var options = {
      series: [{
        name: 'Quantidade de jogadores',
        type: 'column',
        data: [1239, 1203, 1921, 1239, 1298, 3281, 2300]
      }, {
        name: 'Uso CPU',
        type: 'line',
        data: [60, 58, 70, 40, 63, 90, 85]
      }, {
        name: 'Uso RAM',
        type: 'line',
        data: [20, 29, 37, 36, 44, 50, 58]
      }],
      chart: {
        height: 550,
        width: '100%',
        type: 'line',
        stacked: false
      },
      dataLabels: {
        enabled: false
      },
      stroke: {
        width: [1, 1, 4]
      },
      title: {
        text: 'Uso de CPU e RAM na semana',
        align: 'left',
        offsetX: 110
      },
      xaxis: {
        categories: ["Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado", "Domingo"],
      },
      yaxis: [
        {
          seriesName: 'Income',
          axisTicks: {
            show: true,
          },
          axisBorder: {
            show: true,
            color: '#008FFB'
          },
          labels: {
            style: {
              colors: '#008FFB',
            }
          },
          title: {
            text: "Quantidade de Jogadores",
            style: {
              color: '#008FFB',
            }
          },
          tooltip: {
            enabled: true
          }
        },
        {
          seriesName: 'Cashflow',
          opposite: true,
          axisTicks: {
            show: true,
          },
          axisBorder: {
            show: true,
            color: '#00E396'
          },
          labels: {
            style: {
              colors: '#00E396',
            }
          },
        },
        {
          seriesName: 'Revenue',
          opposite: true,
          axisTicks: {
            show: true,
          },
          axisBorder: {
            show: true,
            color: '#FEB019'
          },
          labels: {
            style: {
              colors: '#FEB019',
            },
          },
        },
      ],
      tooltip: {
        fixed: {
          enabled: true,
          position: 'topLeft', // topRight, topLeft, bottomRight, bottomLeft
          offsetY: 30,
          offsetX: 60
        },
      },
      legend: {
        horizontalAlign: 'left',
        offsetX: 40
      }
    };

    var chart = new ApexCharts(document.querySelector("#chart"), options);
    chart.render();

    var options = {
      series: [{
        name: 'Hardware utilizado',
        data: [45, 55, 70, 20, 30, 95, 80],
        color: "#225122",
      }, {
        name: 'Hardware Ocioso',
        data: [55, 45, 30, 80, 70, 5, 20],
        color: "#953b3b",
      }],
      chart: {
        type: 'bar',
        height: 350,
        stacked: true,
        toolbar: {
          show: true
        },

        zoom: {
          enabled: true
        }
      },
      responsive: [{
        breakpoint: 480,
        options: {
          legend: {
            position: 'bottom',
            offsetX: -10,
            offsetY: 0
          }
        }
      }],
      plotOptions: {
        bar: {
          horizontal: false,
          borderRadius: 10,
          borderRadiusApplication: 'end', // 'around', 'end'
          borderRadiusWhenStacked: 'last', // 'all', 'last'
        },
      },
      xaxis: {
        categories: ['Segunda', 'Terça', 'Quarta', 'Quinta',
          'Sexta', 'Sabado', 'Domingo'],
      },
      yaxis: {
        min: 0,
        max: 100
      },
      title: {
        text: 'Uso de CPU na Semna', // <-- Aqui é o título
        align: 'left',           // Pode ser 'left', 'center', ou 'right'
        style: {
          fontSize: '20px',
          color: '#263238'
        },
      },
      legend: {
        position: 'bottom',
        offsetY: 20
      },
      fill: {
        opacity: 1
      }
    };

    var chart = new ApexCharts(document.querySelector("#chart2"), options);
    chart.render();

    var options = {
      series: [{
        name: 'Hardware utilizado',
        data: [20, 25, 40, 25, 70, 97, 75],
        color: "#225122",
      }, {
        name: 'Hardware Ocioso',
        data: [80, 75, 60, 75, 30, 3, 25],
        color: "#953b3b",
      }],
      chart: {
        type: 'bar',
        height: 350,
        stacked: true,
        toolbar: {
          show: true
        },
        zoom: {
          enabled: true
        },
      },
      responsive: [{
        breakpoint: 480,
        options: {
          legend: {
            position: 'bottom',
            offsetX: -10,
            offsetY: 0
          }
        }
      }],
      plotOptions: {
        bar: {
          horizontal: false,
          borderRadius: 10,
          borderRadiusApplication: 'end', // 'around', 'end'
          borderRadiusWhenStacked: 'last', // 'all', 'last'
        },
      },
      xaxis: {
        categories: ['Segunda', 'Terça', 'Quarta', 'Quinta',
          'Sexta', 'Sabado', 'Domingo'],
      },
      yaxis: {
        min: 0,
        max: 100
      },
      legend: {
        position: 'bottom',
        offsetY: 20
      },
      title: {
        text: 'Uso da RAM na Semana',
        align: 'left',
        style: {
          fontSize: '20px',
          color: '#263238'
        },
      },
      fill: {
        opacity: 1
      }
    };

    var chart = new ApexCharts(document.querySelector("#chart3"), options);
    chart.render();


    var dash = document.getElementById("dashDadosHistoricos");
    var dash1 = document.getElementById("dashDadosHistoricos1");
    var dash2 = document.getElementById("dashDadosHistoricos2");
    var dash3 = document.getElementById("dashDadosHistoricos3");
    var dash4 = document.getElementById("dashDadosHistoricos4");

    console.log(sessionStorage.getItem('ROLE_USER'));

    if (sessionStorage.getItem('ROLE_USER') == 'Gerente') {
      dash.style.display = "none";
      dash1.style.display = "none";
      dash2.style.display = "none";
      dash3.style.display = "none";
      dash4.style.display = "none";
    }
  </script>
</body>

</html>